<nav class="navbar">
  <div class="nav-left">
    <a routerLink="/">FÅ‘oldal</a>
    <a routerLink="/products">TermÃ©kek</a>
  </div>

  <div class="nav-right" *ngIf="user$ | async as user; else loggedOut">
    <a routerLink="/cart" class="cart-link">
      ğŸ›’ KosÃ¡r <span class="cart-badge" *ngIf="cartCount > 0">{{ cartCount }}</span>
    </a>
    <span class="user-email">ğŸ‘¤ {{ user.email }}</span>
    <button (click)="logout()">KijelentkezÃ©s</button>
  </div>

  <ng-template #loggedOut>
    <div class="nav-right">
      <a routerLink="/login">BelÃ©pÃ©s</a>
      <a routerLink="/register">RegisztrÃ¡ciÃ³</a>
    </div>
  </ng-template>

  <!-- Hamburger ikon -->
  <button class="menu-toggle" (click)="toggleMenu()">
    â˜°
  </button>

  <!-- Mobil lenyÃ­lÃ³ menÃ¼ -->
  <div class="mobile-menu" [class.open]="menuOpen">
    <a routerLink="/" (click)="closeMenu()">FÅ‘oldal</a>
    <a routerLink="/products" (click)="closeMenu()">TermÃ©kek</a>
    <a routerLink="/cart" (click)="closeMenu()">ğŸ›’ KosÃ¡r ({{ cartCount }})</a>

    <ng-container *ngIf="user$ | async as user; else loggedOutMobile">
      <span class="user-email">ğŸ‘¤ {{ user.email }}</span>
      <button (click)="logout(); closeMenu()">KijelentkezÃ©s</button>
    </ng-container>

    <ng-template #loggedOutMobile>
      <a routerLink="/login" (click)="closeMenu()">BelÃ©pÃ©s</a>
      <a routerLink="/register" (click)="closeMenu()">RegisztrÃ¡ciÃ³</a>
    </ng-template>
  </div>
</nav>
